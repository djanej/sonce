# Sonce News System - 100% Compatibility Guide

This directory contains the news system that is **100% compatible** with files generated by the Sonce News Generator.

## üìÅ Directory Structure

```
content/news/
‚îú‚îÄ‚îÄ index.json                    # Auto-generated index file
‚îú‚îÄ‚îÄ README.md                     # This file
‚îú‚îÄ‚îÄ YYYY-MM-DD-slug.md           # Individual post files
‚îî‚îÄ‚îÄ [other markdown files]

static/uploads/news/
‚îú‚îÄ‚îÄ YYYY/                        # Year folders
‚îÇ   ‚îî‚îÄ‚îÄ MM/                      # Month folders
‚îÇ       ‚îî‚îÄ‚îÄ YYYY-MM-DD-slug-hero.ext
‚îî‚îÄ‚îÄ [other image files]
```

## üöÄ Quick Start

### 1. Create a New Post

**Using the CLI tool (recommended):**
```bash
node tools/news-cli.mjs create \
  --title "Your Post Title" \
  --date 2024-12-01 \
  --author "Your Name" \
  --tags "news,community" \
  --summary "Short excerpt" \
  --body "Post content here"
```

**Manual creation:**
- Create a new `.md` file in `content/news/`
- Use the exact frontmatter format (see below)
- Follow the naming convention: `YYYY-MM-DD-slug.md`

### 2. Add Images

**Hero Image:**
- Place in: `static/uploads/news/YYYY/MM/YYYY-MM-DD-slug-hero.ext`
- Reference in frontmatter: `image: "/static/uploads/news/YYYY/MM/YYYY-MM-DD-slug-hero.ext"`

**Additional Images:**
- Place in: `static/uploads/news/YYYY/MM/YYYY-MM-DD-slug-description.ext`
- Reference in content: `![alt text](/static/uploads/news/YYYY/MM/YYYY-MM-DD-slug-description.ext)`

### 3. Rebuild Index

After adding or modifying posts:
```bash
node tools/news-cli.mjs rebuild-index
```

## üìù Frontmatter Requirements

Every post MUST have this exact frontmatter structure:

```yaml
---
title: "Your Post Title"
date: 2024-12-01
author: "Author Name"
slug: "optional-custom-slug"
image: "/static/uploads/news/2024/12/2024-12-01-slug-hero.jpg"
imageAlt: "Alt text for accessibility"
summary: "Short excerpt shown on listing pages"
tags: [news, community, events]
---
```

### Field Requirements

| Field | Required | Type | Description | Example |
|-------|----------|------|-------------|---------|
| `title` | ‚úÖ Yes | String | Post title (max 100 chars) | "Community Event Announcement" |
| `date` | ‚úÖ Yes | Date | Publication date (YYYY-MM-DD) | 2024-12-01 |
| `author` | ‚ùå No | String | Author name | "John Doe" |
| `slug` | ‚ùå No | String | URL slug (auto-generated if empty) | "community-event" |
| `image` | ‚ùå No | String | Hero image path | `/static/uploads/news/2024/12/image.jpg` |
| `imageAlt` | ‚ùå No | String | Image alt text | "People at community event" |
| `summary` | ‚ùå No | String | Short excerpt (max 200 chars) | "Join us for our annual..." |
| `tags` | ‚ùå No | Array | Comma-separated tags | `[news, community, events]` |

## üè∑Ô∏è File Naming Rules

**CRITICAL:** Post files must follow this exact naming convention:

**Format:** `YYYY-MM-DD-slug.md`

**Examples:**
- `2024-12-01-community-event.md`
- `2024-12-01-spring-announcement.md`
- `2024-12-01-holiday-update.md`

**Rules:**
- Date format: Must be YYYY-MM-DD (ISO format)
- Slug format: Lowercase, hyphens only, no spaces
- File extension: Must be `.md` (Markdown)
- No special characters: Only letters, numbers, and hyphens
- Max length: Total filename should be under 100 characters

## üñºÔ∏è Image Management

### Hero Images
- **Path format:** `/static/uploads/news/YYYY/MM/YYYY-MM-DD-slug-hero.ext`
- **Directory structure:** Images are automatically organized by year/month
- **File naming:** `YYYY-MM-DD-slug-hero.ext`
- **Supported formats:** JPG, PNG, GIF, WebP, SVG
- **Recommended size:** 1200x630px (16:9 ratio)
- **Max file size:** 5MB

### Additional Images
- **Path format:** `/static/uploads/news/YYYY/MM/YYYY-MM-DD-slug-{description}.ext`
- **Multiple images:** Can have multiple attachments
- **Auto-organization:** Automatically placed in date-based folders

## üîß CLI Tool Commands

### Create Post
```bash
node tools/news-cli.mjs create \
  --title "Your Post Title" \
  --date 2024-12-01 \
  --author "Author Name" \
  --slug "optional-slug" \
  --image "/path/to/image.jpg" \
  --copy-image \
  --tags "news,community" \
  --summary "Short excerpt" \
  --body "Post content here"
```

### Rebuild Index
```bash
node tools/news-cli.mjs rebuild-index
```

### Generate Slug
```bash
node tools/news-cli.mjs slug "Your Post Title"
```

### Show Help
```bash
node tools/news-cli.mjs --help
```

## üìä Auto-Generated Index

The system automatically creates `content/news/index.json` with this structure:

```json
[
  {
    "id": "2024-12-01-slug",
    "title": "Post Title",
    "date": "2024-12-01",
    "author": "Author Name",
    "summary": "Post summary",
    "image": "/static/uploads/news/2024/12/image.jpg",
    "imageAlt": "Alt text",
    "tags": ["news", "community"],
    "slug": "slug",
    "filename": "2024-12-01-slug.md",
    "path": "/content/news/2024-12-01-slug.md",
    "link": "/content/news/2024-12-01-slug.md",
    "readingTimeMinutes": 3,
    "readingTimeLabel": "3 min"
  }
]
```

## üöÄ Upload Steps for Main Website

### Step 1: Generate the Post
- Use the web editor or CLI tool to create your post
- Ensure all required fields are filled
- Add your content in Markdown format
- Include hero image and any attachments

### Step 2: Export and Upload
- **Download Markdown:** Use the "Download Markdown" button
- **Export Bundle:** Use "Export Bundle" for complete package with images
- **Upload to Repository:** Use "Connect Repository" if you have access

### Step 3: File Placement
- Place the `.md` file in `content/news/` with correct naming
- Ensure images are in `static/uploads/news/YYYY/MM/` folders
- Run `node tools/news-cli.mjs rebuild-index` to update the index

### Step 4: Verification
- Check that the post appears in `content/news/index.json`
- Verify all image paths are correct
- Test the post renders correctly on your website

## üìã Markdown Content Guidelines

### Supported Markdown
- **Headings:** `# H1`, `## H2`, `### H3`
- **Text:** `**bold**`, `*italic*`, `` `code` ``
- **Lists:** `- item` or `1. item`
- **Links:** `[text](url)`
- **Images:** `![alt](url)`
- **Quotes:** `> quote`
- **Code blocks:** ``` ```code```

### Content Best Practices
- **Hero image:** Should be referenced in frontmatter
- **Body images:** Use relative paths or full URLs
- **Links:** Use absolute URLs for external links
- **Code:** Use triple backticks for code blocks
- **Lists:** Use proper Markdown list syntax

## üîç Troubleshooting

### Common Issues

**Post not appearing:**
- Check filename format and run `rebuild-index`
- Verify frontmatter syntax is correct

**Images not loading:**
- Verify image paths and file permissions
- Check that images are in the correct directories

**Frontmatter errors:**
- Ensure YAML syntax is correct
- Check that all required fields are present

**Slug conflicts:**
- Use unique slugs or let auto-generation handle it

### Validation
- Use the editor's preview function to check rendering
- Validate YAML syntax in the frontmatter
- Check that all required fields are present
- Verify image paths are accessible

## üì± Mobile Support

The news system is fully responsive and works great on mobile devices:
- Touch-friendly interface
- Responsive layout
- Optimized for small screens
- Mobile keyboard support

## üé® Customization

The design can be easily customized by modifying the CSS variables in `news.css`:

```css
:root {
  --primary: #ff6b35;      /* Main accent color */
  --sun-yellow: #ffd54f;   /* Sun yellow */
  --sun-orange: #ff8a65;   /* Sun orange */
  --warm-white: #fff8e1;   /* Warm white */
}
```

## üìö Quick Reference Checklist

Before publishing a news post, ensure:

- [ ] **Filename:** YYYY-MM-DD-slug.md format
- [ ] **Frontmatter:** All required fields present
- [ ] **Images:** Proper paths and alt text
- [ ] **Content:** Valid Markdown syntax
- [ ] **Index:** Run rebuild-index after adding
- [ ] **Testing:** Preview renders correctly
- [ ] **Upload:** Files in correct directories

## ü§ù Support

For questions or issues with the news system:
1. Check this README first
2. Verify file naming and structure
3. Run `rebuild-index` to refresh the index
4. Check browser console for JavaScript errors

---

**Made for Sonce** ‚Äî A beautiful, local Markdown generator that brings the warmth of the sun to your content creation workflow. ‚òÄÔ∏è